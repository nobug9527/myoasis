<script type="text/javascript">
    function editnote(id) {
        $.ajax({
            url: "/Note/editnote" + "?id=" + id,
            type: "get",
            async: false,
            success: function (result) {
                //CKEDITOR.instances.notecontent.setData(result);
                $("#allnote").html(result);
            }
        })
    }
</script>
<div id="allnote">
    <div id="notelist">
        @using System.Data;
        @foreach (DataRow item in @Model.Rows)
        {
            <div style="color:#ffffff">@Html.Raw(HttpUtility.HtmlDecode(@item["notecontent"].ToString()))</div>
            <span style="color:#ffd800">----------------------------<a href="#" onclick="editnote(@item["id"])">编辑</a></span>
        }
    </div>
    @using (Ajax.BeginForm("NoteList", "Note", new { typeid = "" + ViewBag.typeid + "" }, new AjaxOptions() { UpdateTargetId = "allnote" }))
    {
        <textarea name="notecontent" id="notecontent"></textarea>
        <script type="text/javascript">CKEDITOR.replace("notecontent")</script>
    <button type="submit" class="btn btn-primary">提交</button>
    }
</div>
